## 請說明雜湊跟加密的差別在哪裡，為什麼密碼要雜湊過後才存入資料庫

＊加密（Encryption），會產生一個字串做為鑰匙，你把原文放進一個有鎖的盒子裡，一定要有這把鑰匙才能把盒子打開。

所以也就是說，當有人有這把鑰匙時，他就可以把加密的內容解密成原文，所以加密是可以回推的。

＊雜湊（Hashing）則是透過把原文丟進一個雜湊函式（hash function）中，得到一個輸出（雜湊值，hash sum）。

相同的輸入，一定會得到相同的雜湊值；不同的輸入，有極低的機率也會得到相同的雜湊值，出現這種情況稱為碰撞（collision）。因為多個輸入可能會得到相同的輸出，也因此得到的結果是無法回推的。

以上可以得知，加密和雜湊主要的差別在於，是否可以回推，以及是否利用密鑰。

若是直接將密碼儲存至資料庫，而不經過處理（儲存明碼），當資料庫被駭客破解，用戶的帳號密碼便會直接被取走，因為許多使用者都會固定使用差不多，甚至相同的幾組帳號密碼，作為各個網站、平台登入使用，因此這便會造成頗為嚴重的資安危機。

所以當網站取得用戶的密碼時，通常都會將其做處理（如：雜湊）再存入資料庫中，這樣當發生資料庫資訊外洩時，才不會直接被駭客取得明碼的密碼。

## `include`、`require`、`include_once`、`require_once` 的差別

`include` 和 `require` 的功能十分相似，都可以將 php 文件引入，這兩個語法的差別在於，當引入的文件出錯時，include 會給一個 warning(E_WARNING)，但程式碼會繼續執行；而 require 則是會給 fatal error (E_COMPILE_ERROR)，中斷執行程式。

因此，當要引入的文件對於整個程式是重要的時候，會建議以 require 的語法引入。

而 `include_once`、`require_once` 的行為則分別和 include、require 相同，用法也一樣，差別只在於 _once 的語法，只會引入 php 文件中還沒有的。 

## 請說明 SQL Injection 的攻擊原理以及防範方法

**攻擊原理：**

SQL Injection 是透過攻擊者向 server 提交惡意的語句，這個惡意的語句會變更原本語句的邏輯，進而變更或取得資料庫內容。

**防範方法：**

檢查用戶提供的資訊，是否是我們期望的資料格式；對於進入資料庫的特殊字符進行編碼轉換；不要直接使用拼接 sql 語句，建議使用資料庫提供的，如：prepared statement。

##  請說明 XSS 的攻擊原理以及防範方法

**攻擊原理：**

試想有一個留言板，可以直接 echo 出你寫的內容，所以留言時只要利用 `<script>` 這個標籤，便可寫出 JavaScript 程式碼，像是可以跳出 alert、倒像其他網站，偷走 cookie 等攻擊。

**防範方法：**

將特殊字元轉成 HTML 跳脫字元，像是在 php 可以利用 htmlspecialchars。

## 請說明 CSRF 的攻擊原理以及防範方法

**攻擊原理：**

大部分網站都是採用 cookie 或 session 來進行登入驗證，所以當你身上帶著這個通行證時（未登出、通行證還沒過期），攻擊者只要想辦法讓使用者點擊預先準備好的連結，便可以向原網站發出某個請求，server 也會誤以為使用戶合法操作。

**防範方法：**

在用戶端，可以在瀏覽完網站後登出，或是避免瀏覽、點擊來路不明的網站或連結。

在伺服器端，可以檢查 request header 裡的 referer，也就是看是不是從合法的 domain 過來的，但這個解法並不完善。CSRF token 則是我們在 form 裡面加上一個 hidden 的欄位，裡面的值由 server 產生，並且另外存一份在 server 的 session 中，這樣 submit 時，server 只要檢查這個值和 session 中的值是否相同即可。